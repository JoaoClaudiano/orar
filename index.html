<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üïØÔ∏è Orar - Orat√≥rio Virtual</title>
    
    <!-- Leaflet CSS (Mapa) -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
        crossorigin=""/>
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Estilos Customizados -->
    <link rel="stylesheet" href="css/style.css">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
</head>
<body>
    <!-- Overlay de boas-vindas -->
    <div id="welcomeOverlay" class="welcome-overlay">
        <div class="welcome-modal">
            <h1 class="welcome-title">üïØÔ∏è Bem-vindo ao Orar</h1>
            <p class="welcome-description">
                Conecte-se com milhares em ora√ß√£o ao redor do mundo.<br>
                Veja velas acesas em tempo real e compartilhe sua inten√ß√£o.
            </p>
            <div class="welcome-buttons">
                <button id="exploreBtn" class="welcome-btn btn-primary">
                    <i class="fas fa-globe"></i> Explorar Mapa
                </button>
                <button id="lightFirstCandle" class="welcome-btn btn-secondary">
                    <i class="fas fa-fire"></i> Acender Vela
                </button>
            </div>
        </div>
    </div>

    <!-- Mapa -->
    <div id="map" class="map-dimmed"></div>
    
    <!-- Card Flutuante de Controles -->
    <div id="controlCard" class="floating-card">
        <div class="card-header">
            <h2>üïØÔ∏è Orat√≥rio Virtual</h2>
            <div class="card-actions">
                <button id="toggleCard" class="icon-btn">
                    <i class="fas fa-chevron-down"></i>
                </button>
                <button id="closeCard" class="icon-btn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
        
        <div class="card-body">
            <!-- Se√ß√£o de Estat√≠sticas -->
            <div class="stats-section">
                <h3><i class="fas fa-chart-line"></i> Estat√≠sticas ao Vivo</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-number" id="totalCandles">0</span>
                        <span class="stat-label">Velas Acesas</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="onlineNow">0</span>
                        <span class="stat-label">Online Agora</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="countriesCount">0</span>
                        <span class="stat-label">Pa√≠ses</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="prayersToday">0</span>
                        <span class="stat-label">Ora√ß√µes Hoje</span>
                    </div>
                </div>
            </div>
            
            <!-- Se√ß√£o de A√ß√µes -->
            <div class="actions-section">
                <h3><i class="fas fa-compass"></i> A√ß√µes R√°pidas</h3>
                <div class="actions-grid">
                    <button id="lightCandleBtn" class="action-btn primary">
                        <i class="fas fa-fire"></i> Acender Vela
                    </button>
                    <button id="findMyLocation" class="action-btn secondary">
                        <i class="fas fa-location-dot"></i> Minha Localiza√ß√£o
                    </button>
                    <button id="toggleMapBtn" class="action-btn secondary">
                        <i class="fas fa-map"></i> Foco no Mapa
                    </button>
                    <button id="viewWallBtn" class="action-btn secondary">
                        <i class="fas fa-th-large"></i> Ver Mural
                    </button>
                </div>
            </div>
            
            <!-- Filtros do Mapa -->
            <div class="filters-section">
                <h3><i class="fas fa-filter"></i> Filtros</h3>
                <div class="filter-options">
                    <label class="filter-option">
                        <input type="checkbox" id="filterPublic" checked> 
                        <span>Velas P√∫blicas</span>
                    </label>
                    <label class="filter-option">
                        <input type="checkbox" id="filterRecent" checked> 
                        <span>√öltimas 24h</span>
                    </label>
                    <label class="filter-option">
                        <input type="checkbox" id="filterByCategory"> 
                        <span>Por Categoria</span>
                    </label>
                </div>
            </div>
        </div>
        
        <!-- Footer do Card -->
        <div class="card-footer">
            <div class="connection-status">
                <span id="firebaseStatus">‚óè Conectado</span>
                <span id="mapStatus">üó∫Ô∏è Mapa Carregado</span>
            </div>
            <button id="expandMap" class="text-btn">
                <i class="fas fa-expand"></i> Tela Cheia
            </button>
        </div>
    </div>
    
    <!-- Modal para Acender Vela -->
    <div id="candleModal" class="modal-overlay">
        <div class="modal-content">
            <h2><i class="fas fa-fire"></i> Acender Vela Virtual</h2>
            
            <div class="form-section">
                <label for="candleIntention">Sua Inten√ß√£o de Ora√ß√£o *</label>
                <textarea id="candleIntention" 
                          placeholder="Escreva seu pedido, agradecimento ou inten√ß√£o..." 
                          rows="4"></textarea>
            </div>
            
            <div class="form-row">
                <div class="form-section">
                    <label for="candleCategory">Categoria</label>
                    <select id="candleCategory">
                        <option value="health">Sa√∫de</option>
                        <option value="family">Fam√≠lia</option>
                        <option value="work">Trabalho/Emprego</option>
                        <option value="peace">Paz Interior</option>
                        <option value="gratitude">Gratid√£o</option>
                        <option value="memory">Em Mem√≥ria</option>
                        <option value="other">Outro</option>
                    </select>
                </div>
                
                <div class="form-section">
                    <label for="candleSaint">Intercessor (Opcional)</label>
                    <select id="candleSaint">
                        <option value="">Escolha um intercessor...</option>
                        <option value="sao_judas">S√£o Judas Tadeu</option>
                        <option value="ns_aparecida">Nossa Senhora Aparecida</option>
                        <option value="santa_rita">Santa Rita de C√°ssia</option>
                        <option value="santo_antonio">Santo Ant√¥nio</option>
                        <option value="anjo_guardiao">Anjo da Guarda</option>
                        <option value="universal">Energia Universal</option>
                    </select>
                </div>
            </div>
            
            <div class="form-section">
                <label>Visibilidade</label>
                <div class="visibility-options">
                    <label class="visibility-option">
                        <input type="radio" name="visibility" value="public" checked>
                        <span>üåç P√∫blica (no mapa e mural)</span>
                    </label>
                    <label class="visibility-option">
                        <input type="radio" name="visibility" value="anonymous">
                        <span>üë§ An√¥nima (s√≥ no mapa)</span>
                    </label>
                    <label class="visibility-option">
                        <input type="radio" name="visibility" value="private">
                        <span>üîí Privada (s√≥ voc√™ v√™)</span>
                    </label>
                </div>
            </div>
            
            <div class="form-section">
                <label>Localiza√ß√£o no Mapa</label>
                <div class="location-option">
                    <input type="checkbox" id="useMyLocation">
                    <label for="useMyLocation">Usar minha localiza√ß√£o atual</label>
                </div>
                <div id="locationPreview" class="location-preview">
                    <small>üìç Sua vela aparecer√° em: <span id="locationText">Carregando...</span></small>
                </div>
            </div>
            
            <div class="modal-actions">
                <button id="submitCandle" class="btn-primary">
                    <i class="fas fa-check"></i> Acender Vela
                </button>
                <button id="cancelCandle" class="btn-secondary">
                    <i class="fas fa-times"></i> Cancelar
                </button>
            </div>
        </div>
    </div>
    
    <!-- Bot√£o Flutuante para Menu -->
    <button id="menuToggle" class="floating-menu-btn">
        <i class="fas fa-bars"></i>
    </button>
    
    <!-- Leaflet JS (Mapa) -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
        crossorigin=""></script>
    
    <!-- Scripts do Projeto -->
    <script src="js/firebase-config.js"></script>
    <script src="js/map.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
